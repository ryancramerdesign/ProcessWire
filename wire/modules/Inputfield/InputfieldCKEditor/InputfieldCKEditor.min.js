for(var name in config.InputfieldCKEditor.plugins){var file=config.InputfieldCKEditor.plugins[name];CKEDITOR.plugins.addExternal(name,file,"")}var inlineCKEditors=[];function ckeBlurEvent(b){var a=b.editor;if(a.checkDirty()){var c=$(a.element.$);if(c.length){if(c.is("textarea")){c.change()}c.closest(".Inputfield").addClass("InputfieldStateChanged")}}}function initCKEditorTab(d,f){var g=f.newTab;var e=g.find("a");if(e.hasClass("InputfieldCKEditor_init")){return}var a=e.attr("data-editorID");var c=e.attr("data-cfgName");var b=CKEDITOR.replace(a,config[c]);b.on("blur",ckeBlurEvent);e.addClass("InputfieldCKEditor_init");f.oldTab.find("a").addClass("InputfieldCKEditor_init")}$(document).ready(function(){CKEDITOR.timestamp=config.InputfieldCKEditor.timestamp;for(var h in config.InputfieldCKEditor.editors){var e=config.InputfieldCKEditor.editors[h];var a=$("#"+h);var d=a.parent();if(d.hasClass("ui-tabs-panel")&&d.css("display")=="none"){var i=a.parent().attr("id");var b=d.closest(".ui-tabs, .langTabs").find("a[href=#"+i+"]");b.attr("data-editorID",h).attr("data-cfgName",e);d.closest(".ui-tabs, .langTabs").on("tabsactivate",initCKEditorTab)}else{var f=CKEDITOR.replace(h,config[e]);f.on("blur",ckeBlurEvent)}}var c=$(".InputfieldCKEditorInline[contenteditable=true]");var g=$("#Inputfield_id").val();CKEDITOR.disableAutoInline=true;if(c.size()>0){c.mouseover(function(){var m=$(this);if(m.is(".InputfieldCKEditorLoaded")){return}m.effect("highlight",{},500);m.attr("contenteditable","true");var k=m.attr("data-configName");var j=CKEDITOR.inline($(this).attr("id"),config[k]);j.on("blur",ckeBlurEvent);var l=inlineCKEditors.length;inlineCKEditors[l]=j;m.attr("data-n",l);m.addClass("InputfieldCKEditorLoaded")});$("form.InputfieldForm").submit(function(){$(this).find(".InputfieldCKEditorInline").each(function(){var o=$(this);var k;if(o.is(".InputfieldCKEditorLoaded")){var m=parseInt(o.attr("data-n"));var j=inlineCKEditors[m];k=j.getData()}else{k=o.html()}var l=o.next("input");l.attr("value",k)})})}});