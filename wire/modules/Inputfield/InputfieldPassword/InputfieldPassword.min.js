jQuery(document).ready(function(a){a("input.InputfieldPasswordComplexify").each(function(){var h=a(this);var b=h.closest(".Inputfield");var g=b.find(".InputfieldPasswordConfirm");var f=g.next(".pass-confirm");var i=h.siblings(".pass-scores");var c=h.siblings(".pass-percent");var j=i.children();var e=i.attr("data-requirements").split(" ");var d=parseInt(h.attr("minlength"));var k={banMode:h.attr("data-banMode"),strengthScaleFactor:parseFloat(h.attr("data-factor"))};h.complexify(k,function(l,m){var s=null;var q=h.val();var t=q.length;var v=0;if(t>0){for(var p=0;p<e.length;p++){var r=false;var x=e[p];var u=b.find(".pass-require-"+x);if(x=="letter"){var w=XRegExp("\\p{L}");if(!w.test(q)){r=true}}else{if(x=="upper"){var w=XRegExp("\\p{Lu}");if(!w.test(q)){r=true}}else{if(x=="lower"){var w=XRegExp("\\p{Ll}");if(!w.test(q)){r=true}}else{if(x=="digit"){var w=XRegExp("\\p{N}");if(!w.test(q)){r=true}}else{if(x=="other"){var w=XRegExp("\\p{P}");var o=XRegExp("\\p{S}");if(!w.test(q)&&!o.test(q)){r=true}}else{if(x=="space"){var w=XRegExp("\\p{Z}");if(!w.test(q)){r=true}}else{if(x=="minlength"){if(t<d){r=true}}}}}}}}if(r){u.removeClass("pass-require-good ui-priority-secondary")}else{u.addClass("pass-require-good ui-priority-secondary");v++}}}else{b.find(".pass-require-good").removeClass("pass-require-good ui-priority-secondary")}if(t==0){j.removeClass("on");return}else{if(v<e.length){s=j.filter(".pass-fail")}else{if(t<d){s=j.filter(".pass-short")}else{if(!l){s=j.filter(".pass-common")}else{if(m==0){s=j.filter(".pass-invalid")}else{if(m<50){s=j.filter(".pass-weak")}else{if(m<70){s=j.filter(".pass-medium")}else{if(m<100){s=j.filter(".pass-good")}else{if(m==100){s=j.filter(".pass-excellent")}}}}}}}}}if(s&&!s.hasClass("on")){s.siblings(".on").removeClass("on");s.addClass("on")}if(s.hasClass("pass-fail")||s.hasClass("pass-short")||s.hasClass("pass-common")||s.hasClass("pass-invalid")){g.attr("disabled","disabled").val("").change()}else{g.removeAttr("disabled");s.find("small").remove();s.append("<small style='margin-left:0.5em'>("+Math.floor(m)+"%)</small>")}if(g.val().length){g.change()}});h.on("change",function(){var l=a(this).val();if(l.length>0){h.attr("required","required");g.attr("required","required")}else{if(!a(this).closest(".InputfieldStateRequired").length){h.removeAttr("required");g.removeAttr("required")}}});g.on("keyup change",function(){var o=h.val();var n=a(this).val();var l=null;var m=h.closest("p").removeClass("pass-matches");if(n.length==0){l=f.children(".confirm-pending")}else{if(o==n){l=f.children(".confirm-yes");m.addClass("pass-matches")}else{if(o.indexOf(n)===0){l=f.children(".confirm-qty");l.children("span").html(n.length+"/"+o.length)}else{l=f.children(".confirm-no")}}}if(l){l.addClass("on").siblings(".on").removeClass("on")}})})});