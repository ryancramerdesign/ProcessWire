var pwPanels={qty:0,init:function(){var a=window.location.href;if(a.indexOf("pw_panel=1")>-1){$(document).on("mouseover","a",function(){var b=$(this);var c=b.attr("target");if(typeof c=="undefined"||c.length==0){b.attr("target","_parent")}})}else{if(a.indexOf("pw_panel=2")>-1){}else{$(".pw-panel").each(function(){var b=$(this);pwPanels.addPanel(b)})}}},addPanel:function(e){var h=e.attr("data-href");var d=e.attr("data-panel-id");var c="pw-panel-container-"+(++pwPanels.qty);if(typeof h=="undefined"||!h.length){h=e.attr("href")}if(typeof h!="undefined"&&h.length){h+=(h.indexOf("?")>-1?"&":"?")+"modal=panel&pw_panel=";if(e!==null&&e.hasClass("pw-panel-links")){h+="2"}else{h+="1"}}var b=$("<i />").attr("class","pw-panel-icon fa fa-angle-double-left");var a=$("<small />").attr("class","ui-button-text").append(b);var f=$("<a />").attr("class","pw-panel-button pw-panel-button-closed ui-button ui-state-default").attr("href",h).on("click",pwPanels.buttonClickEvent).on("mouseover",pwPanels.buttonMouseoverEvent).on("mouseut",pwPanels.buttonMouseoutEvent).append(a);var g=$("<div />").attr("id",c).attr("class","pw-panel-container pw-panel-container-closed").append(f);$("body").append(g);if(typeof d!="undefined"&&d.length){$("#"+d).hide().addClass("pw-panel-element");g.addClass("pw-panel-container-element").attr("data-panel-id",d)}if(e!==null){pwPanels.initToggler(e,f,g)}else{g.addClass("pw-panel-left")}},initToggler:function(b,j,l){var e=b.hasClass("pw-panel-right")?"right":"left";var k=b.attr("data-tab-text");var h=b.attr("data-tab-icon");var f=b.attr("data-tab-offset");var a=b.attr("data-panel-width");var d=e=="right"?"left":"right";var c=1;l.addClass("pw-panel-tab pw-panel-"+e);l.attr("data-href",j.attr("href"));if(b.hasClass("pw-panel-reload")){l.addClass("pw-panel-reload")}if(typeof f!="undefined"){f=parseInt(f);if(f>-1){j.css("top",f+"px")}else{j.css("top","auto");j.css("bottom",Math.abs(f)+"px")}}if(typeof k!="undefined"&&k.length){j.children(".ui-button-text").text(k);j.addClass("pw-panel-button-text");c=7}if(typeof h!="undefined"&&h.length){var g=$("<i />").addClass("fa fa-fw fa-"+h);var i=j.children(".ui-button-text");if(j.hasClass("pw-panel-button-text")){i.prepend(g)}else{i.empty().append(g);j.css(d,(-1*(j.outerWidth()))+"px")}}if(typeof a!="undefined"&&a.length){l.css("width",a);l.css(e,"-"+a)}if(e=="right"){}else{j.css("right",(-1*(c+j.height()))+"px")}if(!b.hasClass("pw-panel-tab")){j.addClass("pw-panel-button-hidden")}b.click(function(){j.click();return false}).on("mouseover",function(){j.mouseover()}).on("mouseout",function(){j.mouseout()})},initPanelContent:function(d){var b=d.find(".pw-panel-content");var a=d.attr("data-panel-id");if(b.length){return b}else{if(typeof a!="undefined"){var c=$("#"+a);if(c.length){b=$("<div />").addClass("pw-panel-content").css("overflow","auto");d.append(b);b.append(c);c.show();c.trigger("pw-panel-init")}}else{b=$("<iframe />").addClass("pw-panel-content").attr("src",d.attr("data-href"));d.append(b)}}return b},windowResizeEvent:function(){$(".pw-panel-container-init").each(function(){var c=$(this);if(c.hasClass("pw-panel-container-open")){return}var b=c.width();var a=(-1*b)+"px";if(c.hasClass("pw-panel-right")){c.css("right",a)}else{c.css("left",a)}})},buttonClickEvent:function(){var i=$(this);var k=i.closest(".pw-panel-container");var f=k.find(".pw-panel-content");var b=k.hasClass("pw-panel-container-open");var c=k.hasClass("pw-panel-container-loaded");var a=k.width();var e=k.hasClass("pw-panel-right")?"right":"left";var h=typeof jQuery.ui!="undefined";function d(){k.toggleClass("pw-panel-container-open pw-panel-container-closed");i.toggleClass("pw-panel-button-open pw-panel-button-closed")}if($(".pw-panel-container-init").length==0){$(window).resize(pwPanels.windowResizeEvent)}if(b){var j=(-1*a)+"px";if(h){if(e=="left"){k.animate({left:j},150,d)}else{k.animate({right:j},150,d)}}else{k.css(e,j);d()}$("body").css("overflow","");$("#pw-panel-shade").fadeOut("fast",function(){$(this).remove()});i.fadeOut("fast",function(){i.removeClass("ui-state-active");i.fadeIn("fast")});if(h&&e=="left"){k.resizable("destroy")}if(k.hasClass("pw-panel-reload")){k.find("iframe.pw-panel-content").remove()}}else{if(k.hasClass("pw-panel-reload")||!c){pwPanels.initPanelContent(k)}if(h){if(e=="left"){k.animate({left:0},150,d)}else{k.animate({right:0},150,d)}}else{k.css(e,0);d()}var g=$("<div id='pw-panel-shade'>&nbsp;</div>");k.before(g).fadeIn("fast");$("body").css("overflow","hidden");g.click(function(){var l=$(".pw-panel-container-open");if(!l.length){return false}l.find(".pw-panel-button").click()});if(h&&e=="left"){k.resizable({handles:"e",start:function(m,n){var l=$("<div />").addClass("pw-panel-resizable-overlay").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1001,display:"hidden"});k.append(l)},stop:function(l,m){$(".pw-panel-resizable-overlay").remove()}})}k.addClass("pw-panel-container-init")}return false},buttonMouseoverEvent:function(){var a=$(this);var b=a.closest(".pw-panel-container");a.removeClass("ui-state-active").addClass("ui-state-hover");if(b.hasClass("pw-panel-container-loaded")){return}b.addClass("pw-panel-container-loaded");if(!b.hasClass("pw-panel-reload")){pwPanels.initPanelContent(b)}},buttonMouseoutEvent:function(){var a=$(this);var b=a.closest(".pw-panel-container");if(b.hasClass("pw-panel-container-open")){a.addClass("ui-state-active")}}};jQuery(document).ready(function(){pwPanels.init()});